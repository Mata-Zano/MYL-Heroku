<!DOCTYPE html>
{% extends 'clienteAppTemplates/navCliente.html' %}


{% load static %}

<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
        ref="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        rel="stylesheet"
        />
        <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
        crossorigin="anonymous"
        />
        <title>Cátalogo</title>
    {% block contentCliente %}

    <link
    rel="stylesheet"
    href="{% static 'css/styleAdm.css' %}"
    type="text/css"
        />
        <script src="{% static 'js/adm.js' %}" type="text/javascript"></script>
        <link
        ref="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        rel="stylesheet"
        />
</head>

<body class="container text-star">
    <div class="row border border-5">
        {% if modificar %}
        <div class="row">
            <div class="col-3"></div>
            <div class="col-6">
                {% if messages %}
                <div>
                    {% for m in messages %}
                        {% if m.tags == 'success' %}
                            <div class="alert alert-success" role="alert">
                                {{ m }}
                            </div>
                        {% elif m.tags == 'error' %}
                            <div class="alert alert-danger" role="alert">
                                {{ m }}
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
                {% endif %}
                <form method="post" class="align-items-center" onsubmit="return confirmarEditarPerfil();">
                    {% csrf_token %} 
    
                    <div class="form-group">
                        {{ form.nombre.label_tag }} {{ form.nombre }}
                        {{ form.nombre.errors }}
                    </div>
                    <div class="form-group">
                        {{ form.apellido.label_tag }} {{ form.apellido }}
                        {{ form.apellido.errors }}
                    </div>
                    <div class="form-group">
                        {{ form.correo.label_tag }} {{ form.correo }}
                        {{ form.correo.errors }}
                    </div>
                    <div class="form-group">
                        {{ form.telefono.label_tag }} {{ form.telefono }}
                    </div>    
                    
                    <div class="form-group">
                        {{ form.password.label_tag }} {{ form.password }}
                        {{ form.password.errors }}
                    </div>
                    <div class="form-group">
                        {{ form.direccion.label_tag }} {{ form.direccion }}
                    </div>
                    <div class="form-group">
                        {{ form.ciudad.label_tag }} {{ form.ciudad }}
                    </div>
                    <div class="form-group">
                        {{ form.comuna.label_tag }} {{ form.comuna }}
                    </div>                    
                    <button class="buttonAdm" type="submit">Modificar</button>
                </form>
            </div>
            <div class="col-3"></div>

        </div>
        <div class="row">
            <div class="col"><a href="{% url 'clientePerfil' %}" class="buttonAdm" >Volver</a></div>
            <div class="col"><a href="{% url 'editarContraClient' %}" class="buttonAdm" >Modificar contraseña</a></div>
        </div>
        {% endif %}
         


        
        {% if perfil %}

            <label for="">Nombre: {{ nombre }}</label>
            <br>
            <label for="">Apellido:  {{ apellido }}</label>
            <br>
            <label for="">Telefono:  {{ telefono }}</label>
            <br>
            <label for="">Correo Electronico:  {{ correo }}</label>
            <br>
            <label for="">Direccion:  {{ direccion }}</label>
            <br>
            <label for="">Ciudad:  {{ ciudad }}</label>
            <br>
            <label for="">Comuna:  {{ comuna }}</label>
            <br>
            <div class="modificarAdm">
                <a  class="buttonAdm" id="usariosAdm" href="{% url 'editarPerfilClient' %}" > Modificar </a>
            </div>
        {% endif %}

        {% if contraseña %}
        
        <div class="row">
            <div class="col-3"></div>
            <div class="col-6"><br/>
                {% if messages %}
                <div>
                    {% for m in messages %}
                        {% if m.tags == 'success' %}
                            <div class="alert alert-success" role="alert">
                                {{ m }}
                            </div>
                        {% elif m.tags == 'error' %}
                            <div class="alert alert-danger" role="alert">
                                {{ m }}
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
                {% endif %}
                <form method="post" class="align-items-center" onsubmit="return confirmarEditarContra();">
                    {% csrf_token %} 
                    <div class="form-group">
                        <p>• Introduce tu contraseña actual.</p>
                        {{ form.password.label_tag }} {{ form.password }}
                        {{ form.password.errors }}
                    </div>
                    <div class="form-group">
                        <p>• Introduce la nueva contraseña.</p>
                        {{ form.newPassword.label_tag }} {{ form.newPassword }}
                        {{ form.newPassword.errors }}
                    </div>                  
                    <button class="buttonAdm" type="submit" >Modificar</button>
                </form>
            </div>
            <div class="col-3"></div>

        </div>
        <div class="row">
            <div class="col"><a href="{% url 'editarPerfilClient' %}" class="buttonAdm" >Volver</a></div>
        </div>                
        {% endif %}
    </div>

</body>
  {% endblock %}
</html>
